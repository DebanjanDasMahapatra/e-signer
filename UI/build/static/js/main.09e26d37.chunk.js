(this["webpackJsonpdigital-sign"]=this["webpackJsonpdigital-sign"]||[]).push([[0],{129:function(e,a,t){},164:function(e,a,t){e.exports=t.p+"static/media/logo.ee7cd8ed.svg"},192:function(e,a,t){e.exports=t(369)},197:function(e,a,t){},369:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(16),i=t.n(r);t(197),t(164),t(129);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(72),c=t(51),m=t(52),s=t(124),u=t.n(s),d=t(50),g=t(165),E=t.n(g),f=(t(219),t(372)),h=t(371),p=t(30),b=t(374),v=t(373),N=h.a.Header,O=(h.a.Content,h.a.Footer);var j=function(){var e=[{title:"Sl.no.",dataIndex:"index",width:20,render:function(e,a,t){return t+1}},{title:"Roll Number",dataIndex:"roll",sorter:function(e,a){return e.roll-a.roll}},{title:"Name",dataIndex:"name",sorter:function(e,a){return e.name>a.name}},{title:"Email",dataIndex:"email"},{title:"Signature",dataIndex:"signBuffer",render:function(e,a,t){return l.a.createElement("img",{className:"sigImage",src:a.signBuffer})}}],a=Object(n.useState)([]),t=Object(m.a)(a,2),r=t[0],i=t[1],s=Object(n.useState)(!1),g=Object(m.a)(s,2),j=g[0],w=g[1],S=Object(n.useState)(null),x=Object(m.a)(S,2),k=x[0],y=x[1],C=Object(n.useState)(!0),I=Object(m.a)(C,2),B=I[0],F=I[1],R=Object(n.useState)({name:null,email:null,roll:null,signBuffer:null,errors:{name:" ",email:" ",roll:" ",signBuffer:" "}}),D=Object(m.a)(R,2),P=D[0],z=D[1],V=Object(n.useState)(null),W=Object(m.a)(V,2),L=W[0],T=W[1];Object(n.useEffect)((function(){u.a.get("/work/getSigns").then((function(e){F(!1),e.data.status&&i(e.data.data)}))}),[]);var q=function(e){var a;T(null);var t=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i);e.preventDefault();var n=e.target,l=n.name,r=n.value,i=P.errors;switch(l){case"name":i.name=r.length<1?"Name required!":"";break;case"email":i.email=t.test(r)?"":"Email is not valid!";break;case"roll":i.roll=(r+"").length<11?"Roll Number must be 11 Digit long!":""}z(Object(c.a)(Object(c.a)({},P),{},(a={},Object(o.a)(a,l,r+""),Object(o.a)(a,"errors",i),a)))};return l.a.createElement(h.a,null,l.a.createElement(N,{style:{position:"fixed",zIndex:1,width:"100%"}},l.a.createElement("div",{className:"logo"}),l.a.createElement(p.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]},l.a.createElement(p.a.Item,{key:"1",onClick:function(){w(!0)}},"Add Support"),l.a.createElement(p.a.Item,{key:"2",onClick:function(){w(!1)}},"List")),l.a.createElement(d.a,{type:"primary",shape:"round",icon:l.a.createElement(v.a,null),size:"large",style:{position:"absolute",right:0,minWidth:"max-content"},onClick:function(){window.open("/work/download","_blank")}}," PDF ")),l.a.createElement(b.a,{style:{margin:"16px 0"}},l.a.createElement(b.a.Item,null,"No More Exam")),l.a.createElement("div",{className:"site-layout-background",style:{padding:2,minHeight:800}},B?l.a.createElement("div",{className:"loader-holder"},l.a.createElement("div",{class:"lds-roller"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))):null,j?l.a.createElement("div",{className:"form-wrapper"},l.a.createElement("h2",null,"Sign to Support"),l.a.createElement("form",{noValidate:!0},L?l.a.createElement("span",{className:"error"},L):null,l.a.createElement("div",{className:"fullName"},l.a.createElement("label",{htmlFor:"fullName"},"Name"),l.a.createElement("input",{type:"text",name:"name",onChange:q,noValidate:!0}),P.errors.name.length>1&&l.a.createElement("span",{className:"error"},P.errors.name)),l.a.createElement("div",{className:"email"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",name:"email",onChange:q,noValidate:!0}),P.errors.email.length>1&&l.a.createElement("span",{className:"error"},P.errors.email)),l.a.createElement("div",{className:"roll"},l.a.createElement("label",{htmlFor:"roll"},"Roll Number"),l.a.createElement("input",{type:"number",name:"roll",onChange:q,noValidate:!0}),P.errors.roll.length>1&&l.a.createElement("span",{className:"error"},P.errors.roll)),l.a.createElement("div",{className:"info"}),"Sign",l.a.createElement("div",{style:{height:"160px",width:"100%"}},l.a.createElement("div",{className:"sigContainer"},l.a.createElement(E.a,{canvasProps:{className:"sigPad"},ref:function(e){y(e)}}))),P.errors.signBuffer.length>0&&l.a.createElement("span",{className:"error"},P.errors.signBuffer),l.a.createElement("br",null),l.a.createElement(d.a,{onClick:function(){k.clear()},style:{minWidth:"max-content"}},"clear")),l.a.createElement("div",{className:"submit"},l.a.createElement("button",{disabled:P.errors.name.length>0||P.errors.email.length>0||P.errors.roll.length>0,onClick:function(){F(!0);var e=k.getTrimmedCanvas().toDataURL("image/png");if((P.name.length<1||P.email.length<1||P.roll.length<1)&&alert("Please Fill the form!"),!e)return alert("Signature Required!"),!1;z(Object(c.a)(Object(c.a)({},P),{},{signBuffer:k.getTrimmedCanvas().toDataURL("image/png")}),(function(){}));var a=P;delete a.errors,u.a.post("/work/sign",Object(c.a)(Object(c.a)({},a),{},{signBuffer:e})).then((function(e){F(!1),e.data.status?window.location.reload(!1):T(e.data.message)})).catch((function(e){F(!1),T(e.response)}))}},"Submit"))):l.a.createElement("div",null,l.a.createElement(f.a,{columns:e,dataSource:r,onChange:function(e,a,t){},scroll:{x:400},size:"small",title:function(){return"No Exam Petition"},pagination:{total:r.length,pageSize:r.length,hideOnSinglePage:!0}}))),l.a.createElement(O,{style:{textAlign:"center"}},"Digi-Sign \xa92030 Created by Future Team"))};i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[192,1,2]]]);
//# sourceMappingURL=main.09e26d37.chunk.js.map